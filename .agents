# AI-Assisted Book Writing Method

This repository uses AI collaboration for book writing. Below is the method for working on chapters.

## The Method

### Before Writing Each Chapter

Before beginning work on any chapter, you must:

1. **Provide a Well-Sized Description** - Submit a clear, comprehensive description of the chapter's goal. This description should include:
   - The main objective of the chapter
   - Key themes or concepts to cover
   - How it connects to previous and subsequent chapters
   - Any specific points or arguments to address

2. **Reference the Living Outline** - The `OUTLINE.md` file in the root of this repository is the source of truth for the book's structure. Always review it before starting a chapter.

### The Living Outline

The outline (`OUTLINE.md`) is **living documentation** that evolves as the book develops:

- It lives in the root of the repository
- It should be updated as new insights emerge
- It enables a "spiral of context" - information discovered later can inform earlier content

### Spiral of Context

The "spiral of context" approach means:

1. **Forward Integration** - Later chapters can build on established concepts
2. **Backward Integration** - If something written later benefits earlier content, we can revisit and incorporate those improvements
3. **Dynamic Adjustment** - The book structure is flexible and can be reorganized as understanding deepens

### Repository Structure

```
/
├── .agents           # This file - explains the AI collaboration method
├── OUTLINE.md        # Living outline of the book
├── README.md         # Project overview
├── compile.py        # Book compilation script
├── compiled/         # Output folder for compiled book
│   └── book.md       # The assembled book
├── sessions/         # Quiz author Q&A transcripts
│   └── YYYY-MM-DD-topic.md
└── sections/         # Main content folder
    ├── prelude/
    │   ├── prelude.md    # Chapter notes/outline
    │   └── prose.md      # Pure prose for compilation
    ├── part-1/
    │   ├── chapter-1/
    │   │   ├── chapter.md    # Chapter notes/outline
    │   │   └── prose.md      # Pure prose for compilation
    │   ├── chapter-2/
    │   └── chapter-3/
    ├── part-2/           # Chapters 4-8
    ├── part-3/           # Chapters 9-11
    ├── part-4/           # Chapters 12-14
    └── part-5/           # Chapters 15-17
```

### Workflow

1. **Review** the current `OUTLINE.md`
2. **Discuss** the chapter goal with a well-sized description
3. **Write** the chapter content
4. **Update** the outline if new insights emerge
5. **Consider** if any previous content could benefit from what was learned

### Chapter Draft vs Chapter Outline

**Chapter Outline**: Sectioned notes with headers, bullet points, and horizontal rules. Used for planning.

**Chapter Draft**: Flowing prose. Paragraphs. No internal section breaks. What a reader would actually read in the finished book.

When drafting chapters, write prose, not outlines.

---

## Quiz Author Protocol

Before writing chapters, use the Quiz Author protocol to extract and clarify the author's vision.

**Invoke:** `/quiz-author`

**Purpose:** One-question-at-a-time interviews that capture exactly what the author means.

**Storage:** All Q&A stored in `sessions/YYYY-MM-DD-topic.md`

**Full documentation:** See `QUIZ_PROTOCOL.md`

### Question Types
- CLARIFY: Sharpen vague concepts
- CHALLENGE: Surface contradictions
- EDGE CASE: Find boundaries
- EXAMPLE: Ground in concrete scenarios
- DISTINCTION: Separate similar concepts
- APPLICATION: Test practical use

Session files become authoritative source material for chapter writing.

---

## Book Compilation

The book is compiled from individual `prose.md` files into a single `compiled/book.md`.

### File Types

Each chapter folder contains two file types:

- **chapter.md / prelude.md**: Notes, outlines, goals, and planning materials. Not compiled.
- **prose.md**: Pure prose. This is what gets compiled into the book. No metadata, no headers beyond the chapter title.

### Compilation Command

```bash
python compile.py
```

Options:
- `--output` / `-o`: Custom output path (default: `compiled/book.md`)

### What Compile Does

1. Generates title page with subtitle
2. Builds table of contents from book structure
3. Inserts part dividers with epigraphs
4. Pulls in prose.md content for each section
5. Marks unwritten chapters as "not yet written"
6. Adds compilation timestamp and progress count

### Adding New Chapters

To add a chapter to the book, update `BOOK_STRUCTURE` in `compile.py`:

```python
{
    "type": "section",
    "path": "sections/part-N/chapter-N/prose.md",
    "toc_title": "Chapter N: Title Here"
}
```

### Progress Tracking

Running `compile.py` reports:
- Sections found (with content)
- Sections missing (prose.md empty or absent)

The compiled book shows progress at the bottom.
